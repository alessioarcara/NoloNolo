(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[12],{117:function(e,t,a){e.exports={progressBar:"StepProgressBar_progressBar__2iV9R"}},118:function(e,t,a){e.exports={step:"Step_step__35QnU",stepFullfilled:"Step_stepFullfilled__3uqEn"}},119:function(e,t,a){e.exports={"newAdvertisement-footer":"NewAdvertisementFooter_newAdvertisement-footer__NeFb-","newAdvertisement-actionFirst":"NewAdvertisementFooter_newAdvertisement-actionFirst__YIW2M"}},120:function(e,t,a){"use strict";a(0);var n=a(117),i=a.n(n),r=a(118),s=a.n(r),o=a(1),c=function(e){var t=e.name,a=e.fullfilled;return Object(o.jsxs)("div",{className:"".concat(s.a.step," ").concat(a?s.a.stepFullfilled:""),children:[Object(o.jsx)("div",{}),Object(o.jsx)("p",{children:t})]})},l=function(e){var t=e.steps,a=e.stepPosition;return a>t.length?(console.warn("When specifying a stepPosition prop, the number must be less or equal the length of the steps array."),null):Object(o.jsx)("div",{className:i.a.progressBar,children:t.map((function(e,t){return t<a?Object(o.jsx)(c,{name:e,fullfilled:!0},t):Object(o.jsx)(c,{name:e},t)}))})},u=a(80),d=a(2),b=a(119),m=a.n(b),j=["Barca","Posizione","Annuncio"];t.a=function(e){var t=e.isDisabledNextStep,a=e.stepPosition,n=Object(d.h)();return Object(o.jsxs)("div",{className:m.a["newAdvertisement-footer"],children:[Object(o.jsx)(l,{steps:j,stepPosition:a}),Object(o.jsx)(u.a,{firstButtonText:"Indietro",secondButtonText:"Avanti",firstButtonClickHandler:function(){n(-1)},firstButtonClassName:"".concat(m.a["newAdvertisement-actionFirst"]," btn btn-secondary"),secondButtonClassName:"".concat(m.a["newAdvertisement-actionSecond"]," btn btn-outline-primary"),secondButtonDisabled:t,secondButtonType:"submit"})]})}},290:function(e,t,a){e.exports={input:"MultipleImagesUpload_input__2DGNq","error-text":"MultipleImagesUpload_error-text__3s12m","multiple-images-upload":"MultipleImagesUpload_multiple-images-upload__JxLEt",container:"MultipleImagesUpload_container__2BLD9","image-container":"MultipleImagesUpload_image-container__h6v3Z",image:"MultipleImagesUpload_image__Zb_SL","delete-button":"MultipleImagesUpload_delete-button__3YEr0","add-images-container":"MultipleImagesUpload_add-images-container__3Vw8E",growing:"MultipleImagesUpload_growing__1H-nj"}},291:function(e,t,a){e.exports={rightLayout:"NewBoatAdvertisement_rightLayout__2HHhb",layout:"NewBoatAdvertisement_layout__uFPgl",leftLayout:"NewBoatAdvertisement_leftLayout__3vtf8"}},296:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(0),r=a.n(i),s=a(92),o=a(120),c=a(89),l=a(94),u=a(11),d=a(290),b=a.n(d),m=a(1),j=function(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.3",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.3",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})},p=function(e){var t=e.files,a=e.errorMessage,n=e.onSelectFiles,i=e.onUnselectFile,r=Object.values(t).map((function(e){return URL.createObjectURL(e)}));return Object(m.jsxs)("div",{className:b.a.input,children:[Object(m.jsx)("div",{children:"Immagini"}),Object(m.jsxs)("div",{className:b.a["multiple-images-upload"],children:[r.map((function(e,t){return Object(m.jsxs)("div",{className:b.a.container,children:[Object(m.jsx)("div",{className:b.a["image-container"],children:Object(m.jsx)("img",{src:e,alt:"",className:b.a.image})}),Object(m.jsx)("button",{"data-file":t,className:b.a["delete-button"],onClick:i,type:"button",children:"\u274c"})]},t)})),r.length<3&&Object(m.jsxs)("label",{className:b.a["add-images-container"],htmlFor:"multiple-images-uploader",children:[Object(m.jsx)(j,{}),Object(m.jsx)("input",{id:"multiple-images-uploader",name:"multiple-images-uploader",type:"file",onChange:n,multiple:!0})]})]}),a&&Object(m.jsx)("span",{className:b.a["error-text"],children:a})]})},h=r.a.memo(p),v=a(291),f=a.n(v),g=a(88),O=a(28);t.default=function(e){var t=e.boatId,a=e.onMutationUserBoat,r=Object(i.useState)([]),d=Object(n.a)(r,2),b=d[0],j=d[1],p=Object(i.useState)(""),v=Object(n.a)(p,2),x=v[0],_=v[1],y=Object(c.a)(l.c),N=y.formValues,C=y.renderFormInputs,w=y.isFormValid,B=Object(i.useContext)(O.b).breakpoint,F=Object(i.useCallback)((function(e){var t=e.target.files;if(t.length>3)return _("Non puoi aggiungere pi\xf9 di tre immagini");j(Object.values(t))}),[]),k=Object(i.useCallback)((function(e){var t=e.target.dataset.file;return j((function(e){return e.filter((function(e,a){return a!==parseInt(t)}))}))}),[]),L=Object(i.useCallback)((function(e){if(0!==b.length){var t=new FormData;t.append("operations",u.body_addBoatImages.operations(e)),t.append("map",u.body_addBoatImages.map),b.forEach((function(e,a){return t.append(a.toString(),e)})),a(t,(function(e){return e}))}}),[b,a]),S=Object(i.useCallback)((function(e){e.preventDefault(),a(Object(u.body_publishAdvertisement)({boatId:t,description:N[0],dailyFee:parseFloat(N[1]),fixedFee:parseFloat(N[2])}),(function(e,t){return L(t._id),e.filter((function(e){return e._id!==t._id}))}))}),[N,t,L,a]);return Object(m.jsx)(s.a,{layoutClassName:f.a.layout,leftLayoutClassName:f.a.leftLayout,rightLayoutClassName:f.a.rightLayout,contentLeft:Object(m.jsx)("h1",{children:"Ora, descrivi il tuo annuncio"}),contentRight:Object(m.jsxs)("form",{onSubmit:S,children:[C(),Object(m.jsx)(h,{files:b,errorMessage:x,onSelectFiles:F,onUnselectFile:k}),"smartphone"===B&&Object(m.jsx)(g.a,{heightVh:20}),Object(m.jsx)(o.a,{isDisabledNextStep:!w(),stepPosition:3})]})})}},72:function(e,t,a){"use strict";a(0);var n=a(74),i=a.n(n),r=a(26),s=a(1);t.a=function(e){var t=e.type,a=e.className,n=e.onClick,o=e.disabled,c=e.isLoading,l=e.children;return Object(s.jsx)("button",{type:t||"submit",className:a||i.a.Button,onClick:n,disabled:o,children:c?Object(s.jsx)(r.a,{}):l})}},74:function(e,t,a){e.exports={Button:"Button_Button__3gFiX"}},78:function(e,t,a){e.exports={control:"Input_control__7JYPz",invalid:"Input_invalid__1XscM","error-text":"Input_error-text__8zxoK"}},80:function(e,t,a){"use strict";a(0);var n=a(72),i=a(81),r=a.n(i),s=a(1);t.a=function(e){var t=e.actionClassName,a=e.firstButtonClassName,i=e.firstButtonClickHandler,o=e.firstButtonText,c=e.firstButtonDisabled,l=e.secondButtonClassName,u=e.secondButtonClickHandler,d=e.secondButtonText,b=e.secondButtonDisabled,m=e.secondButtonType;return Object(s.jsxs)("div",{className:t||r.a.actions,children:[Object(s.jsx)(n.a,{className:a||r.a["btn-first"],onClick:i,disabled:c,type:"button",children:o}),Object(s.jsx)(n.a,{className:"".concat(l," ").concat(r.a["btn-second"]),onClick:u,disabled:b,type:m||"button",children:d})]})}},81:function(e,t,a){e.exports={actions:"ActionButton_actions__27dZ-","btn-first":"ActionButton_btn-first__v2NlO","btn-second":"ActionButton_btn-second__1MDkF"}},88:function(e,t,a){"use strict";var n=a(1);t.a=function(e){var t=e.heightVh,a=e.widthRatio,i=void 0===a?100:a;return Object(n.jsx)("div",{style:{height:"".concat(t,"vh"),width:"".concat(i,"%")}})}},89:function(e,t,a){"use strict";var n=a(29),i=a(7),r=a(16),s=a(3),o=a(0);t.a=function(e){var t=Object(o.useState)(e),a=Object(s.a)(t,2),c=a[0],l=a[1],u=Object(o.useCallback)((function(e){var t,a=Object(r.a)(e.validationRules);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(!n.validate(e.value,c))return e.errorMessage=n.message,!1}}catch(i){a.e(i)}finally{a.f()}return!0}),[c]),d=Object(o.useCallback)((function(e){var t=e.target,a=t.name,r=t.value,s=Object(i.a)({},c[a]);s.value=r;var o=u(s);o&&!s.valid?s.valid=!0:!o&&s.valid&&(s.valid=!1),l(Object(i.a)(Object(i.a)({},c),{},Object(n.a)({},a,s)))}),[c,u]),b=Object(o.useCallback)((function(e){var t=e.target.name,a=Object(i.a)({},c[t]);a.touched=!0;var r=u(a);r&&!a.valid?a.valid=!0:!r&&a.valid&&(a.valid=!1),l(Object(i.a)(Object(i.a)({},c),{},Object(n.a)({},t,a)))}),[c,u]),m=Object(o.useCallback)((function(){for(var e=!0,t=Object.values(c),a=0;a<t.length;a++)if(!t[a].valid){e=!1;break}return e}),[c]),j=Object(o.useCallback)((function(e){l(e)}),[]),p=Object(o.useCallback)((function(){l(e)}),[e]);return{formValues:Object.values(c).map((function(e){return e.value})),renderFormInputs:function(e){return Object.values(c).map((function(t){var a=t.value,n=t.label,i=t.errorMessage,r=t.valid,s=t.touched;return(0,t.render)(d,b,a,r,s,i,n,e)}))},isFormValid:m,changeForm:j,resetForm:p}}},90:function(e,t,a){e.exports={numberSpinner:"NumberSpinner_numberSpinner__2GLjj","number-spinner-container":"NumberSpinner_number-spinner-container__3A2xi","increase-btn":"NumberSpinner_increase-btn__1VhBa","decrease-btn":"NumberSpinner_decrease-btn__dM4kV","error-text":"NumberSpinner_error-text__5r1Z0"}},91:function(e,t,a){e.exports={control:"TextArea_control__SvEtY",invalid:"TextArea_invalid__2DFni","error-text":"TextArea_error-text__2lPUJ"}},92:function(e,t,a){"use strict";var n=a(93),i=a.n(n),r=a(1);t.a=function(e){var t=e.contentLeft,a=e.contentRight,n=e.actions,s=e.layoutClassName,o=e.leftLayoutClassName,c=e.rightLayoutClassName,l=e.rightLayoutContentClassName,u=e.rightLayoutActionsClassName;return Object(r.jsxs)("section",{className:"".concat(i.a.layout," ").concat(s),children:[Object(r.jsx)("div",{className:"".concat(i.a["left-layout"]," ").concat(o),children:t}),Object(r.jsxs)("div",{className:"".concat(i.a["right-layout"]," ").concat(c),children:[Object(r.jsx)("div",{className:"".concat(i.a["right-layout-content"]," ").concat(l),children:a}),Object(r.jsx)("div",{className:"".concat(i.a["right-layout-actions"]," ").concat(u),children:n})]})]})}},93:function(e,t,a){e.exports={layout:"SplitScreenLayout_layout__1eM0g","left-layout":"SplitScreenLayout_left-layout__2dGvv","right-layout":"SplitScreenLayout_right-layout__3Z0hS","right-layout-actions":"SplitScreenLayout_right-layout-actions__Uu3y-"}},94:function(e,t,a){"use strict";a.d(t,"b",(function(){return B})),a.d(t,"a",(function(){return F})),a.d(t,"f",(function(){return k})),a.d(t,"d",(function(){return L})),a.d(t,"e",(function(){return S})),a.d(t,"c",(function(){return M}));var n=a(7);function i(e,t,a){return{name:e,message:t,validate:a}}function r(e){return i("required","".concat(e," required"),(function(e,t){return 0!==e.length}))}function s(e,t){return i("minLength","".concat(e," should contain atleast ").concat(t," characters"),(function(e,a){return e.length>=t}))}function o(e){return i("isNumber","".concat(e," should be a number"),(function(e,t){return!isNaN(parseInt(e))}))}var c=a(0),l=a.n(c),u=a(78),d=a.n(u),b=a(90),m=a.n(b),j=a(1),p=void 0,h=function(e){var t=e.label,a=e.type,n=e.name,i=e.handleChange,r=e.valueChange,s=e.handleBlur,o=e.errorMessage,l=e.isValid,u=e.isTouched,b=e.value,h=e.classNames,v=u&&!l,f=v?"".concat(h," ").concat(d.a.invalid):"".concat(h),g=Object(c.useCallback)((function(e){i({target:{name:n,value:isNaN(e)?r:e+r>100*r?e:e+r}})}),[i,n,r]),O=Object(c.useCallback)((function(e){i({target:{name:n,value:isNaN(e)||e-r<0?0:e-r}})}),[i,n,r]);return Object(j.jsxs)("div",{className:"".concat(d.a.control," ").concat(f),children:[Object(j.jsx)("label",{htmlFor:n,children:t}),Object(j.jsxs)("div",{className:m.a["number-spinner-container"],children:[Object(j.jsxs)("div",{className:m.a.numberSpinner,children:[Object(j.jsx)("button",{type:"button",disabled:b<=0,className:m.a["decrease-btn"],onClick:O.bind(p,parseInt(b)),children:"-"}),Object(j.jsx)("input",{type:a,name:n,value:b,onChange:i,onBlur:s}),Object(j.jsx)("button",{type:"button",disabled:b>=100*r,className:m.a["increase-btn"],onClick:g.bind(p,parseInt(b)),children:"+"})]}),v&&Object(j.jsx)("span",{className:m.a["error-text"],children:o})]})]})},v=l.a.memo(h),f=function(e){var t=e.id,a=e.label,n=e.type,i=e.name,r=e.handleChange,s=e.handleBlur,o=e.errorMessage,c=e.isValid,l=e.isTouched,u=e.value,b=e.classNames,m=l&&!c,p=m?"".concat(b," ").concat(d.a.invalid):"".concat(b);return Object(j.jsxs)("div",{className:"".concat(p," ").concat(d.a.control),children:[Object(j.jsx)("label",{htmlFor:t||i,children:a}),Object(j.jsx)("input",{id:t,type:n,name:i,value:u,onChange:r,onBlur:s}),m&&Object(j.jsx)("span",{className:d.a["error-text"],children:o})]})},g=l.a.memo(f),O=a(91),x=a.n(O),_=function(e){var t=e.id,a=e.label,n=e.name,i=e.handleChange,r=e.handleBlur,s=e.errorMessage,o=e.isValid,c=e.isTouched,l=e.value,u=e.classNames,d=c&&!o,b=d?"".concat(u," ").concat(x.a.invalid):"".concat(u);return Object(j.jsxs)("div",{className:"".concat(b," ").concat(x.a.control),children:[Object(j.jsx)("label",{htmlFor:t||n,children:a}),Object(j.jsx)("textarea",{id:t,name:n,value:l,onChange:i,onBlur:r}),d&&Object(j.jsx)("span",{className:x.a["error-text"],children:s})]})};function y(e,t,a,n,i,r,s,o){return Object(j.jsx)(v,{name:this.name,type:this.type,label:this.label,isValid:n,isTouched:i,value:a,handleBlur:t,handleChange:e,valueChange:this.valueChange,errorMessage:r,classNames:o},s)}function N(e,t,a,n,i,r,s,o){return Object(j.jsx)(g,{name:this.name,type:this.type,label:this.label,isValid:n,isTouched:i,value:a,handleBlur:t,handleChange:e,errorMessage:r,classNames:o},s)}function C(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return{render:function(n,s,o,c,l,u,d,b){return i.call.apply(i,[{label:e,name:t,type:a,valueChange:r}].concat(Array.prototype.slice.call(arguments)))},label:e,value:n,valid:!!n,errorMessage:"",touched:!1}}var w,B={email:Object(n.a)(Object(n.a)({},C("Email","email","email")),{},{validationRules:[r("email"),(w="email",i("isEmail","Enter valid ".concat(w),(function(e,t){return e.includes("@")}))),s("email",10)]}),password:Object(n.a)(Object(n.a)({},C("Password","password","password")),{},{validationRules:[r("password"),s("password",8)]})},F={street:Object(n.a)(Object(n.a)({},C("Via","street","text")),{},{validationRules:[r("street"),s("street",4)]}),city:Object(n.a)(Object(n.a)({},C("Citt\xe0","city","text")),{},{validationRules:[r("city"),s("city",4)]}),region:Object(n.a)(Object(n.a)({},C("Regione","region","text")),{},{validationRules:[r("region"),s("region",4)]}),postalCode:Object(n.a)(Object(n.a)({},C("Codice postale","postalCode","number")),{},{validationRules:[r("postal code"),s("postal code",5),function(e,t){return i("maxLength","".concat(e," should contain atleast ").concat(t," characters"),(function(e,a){return e.length<=t}))}("postal code",5)]})},k={oldPassword:Object(n.a)(Object(n.a)({},C("Password attuale","oldPassword","password")),{},{validationRules:[r("old password"),s("old password",8)]}),password:Object(n.a)(Object(n.a)({},C("Nuova password","password","password")),{},{validationRules:[r("new password"),s("new password",8)]}),confirmPassword:Object(n.a)(Object(n.a)({},C("Conferma la password","confirmPassword","password")),{},{validationRules:[i("passwordMatch","passwords do not match",(function(e,t){return e===t.password.value}))]})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{yard:Object(n.a)(Object(n.a)({},C("Cantiere","yard","text",e)),{},{validationRules:[r("yard")]}),model:Object(n.a)(Object(n.a)({},C("Modello","model","text",t)),{},{validationRules:[r("model")]}),length:Object(n.a)(Object(n.a)({},C("Lunghezza","length","text",a,y)),{},{validationRules:[r("length"),o("length")]}),maximumCapacity:Object(n.a)(Object(n.a)({},C("Capacit\xe0 massima","maximumCapacity","text",i,y)),{},{validationRules:[r("maximum capacity"),o("maximum capacity")]})}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{harbour:Object(n.a)(Object(n.a)({},C("Porto","harbour","text",e)),{},{validationRules:[r("harbour"),s("harbour",4)]}),city:Object(n.a)(Object(n.a)({},C("Citt\xe0","city","text",t)),{},{validationRules:[r("city"),s("city",4)]}),region:Object(n.a)(Object(n.a)({},C("Regione","region","text",a)),{},{validationRules:[r("region"),s("region",4)]})}},M={description:Object(n.a)(Object(n.a)({},C("Descrizione","description","","",(function(e,t,a,n,i,r,s,o){return Object(j.jsx)(_,{name:this.name,label:this.label,isValid:n,isTouched:i,value:a,handleBlur:t,handleChange:e,errorMessage:r,classNames:o},s)}))),{},{validationRules:[r("description"),s("description",10)]}),dailyFee:Object(n.a)(Object(n.a)({},C("Tariffa giornaliera","dailyFee","number",0,y,25)),{},{validationRules:[r("dailyFee"),o("dailyFee")]}),fixedFee:Object(n.a)(Object(n.a)({},C("Tariffa fissa","fixedFee","number",0,y,25)),{},{validationRules:[r("fixedFee"),o("fixedFee")]})}}}]);
//# sourceMappingURL=12.ab48d9f8.chunk.js.map