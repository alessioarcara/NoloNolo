(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{123:function(e,t,a){e.exports={progressBar:"StepProgressBar_progressBar__2iV9R"}},124:function(e,t,a){e.exports={step:"Step_step__35QnU",stepFullfilled:"Step_stepFullfilled__3uqEn"}},125:function(e,t,a){e.exports={"newAdvertisement-footer":"NewAdvertisementFooter_newAdvertisement-footer__NeFb-","newAdvertisement-actionFirst":"NewAdvertisementFooter_newAdvertisement-actionFirst__YIW2M"}},126:function(e,t,a){"use strict";var n=a(0),o=a.n(n),c=a(123),r=a.n(c),i=a(124),s=a.n(i),l=a(1),u=function(e){var t=e.name,a=e.fullfilled;return Object(l.jsxs)("div",{className:"".concat(s.a.step," ").concat(a?s.a.stepFullfilled:""),children:[Object(l.jsx)("div",{}),Object(l.jsx)("p",{children:t})]})},d=function(e){var t=e.steps,a=e.stepPosition;return a>t.length?(console.warn("When specifying a stepPosition prop, the number must be less or equal the length of the steps array."),null):Object(l.jsx)("div",{className:r.a.progressBar,children:t.map((function(e,t){return t<a?Object(l.jsx)(u,{name:e,fullfilled:!0},t):Object(l.jsx)(u,{name:e},t)}))})},b=a(82),j=a(2),m=a(125),h=a.n(m),v=["Barca","Posizione","Annuncio"],p=function(e){var t=e.isDisabledNextStep,a=e.stepPosition,n=Object(j.h)();return Object(l.jsxs)("div",{className:h.a["newAdvertisement-footer"],children:[Object(l.jsx)(d,{steps:v,stepPosition:a}),Object(l.jsx)(b.a,{firstButtonText:"Indietro",secondButtonText:"Avanti",firstButtonClickHandler:function(){n(-1)},firstButtonClassName:"".concat(h.a["newAdvertisement-actionFirst"]," btn btn-secondary"),secondButtonClassName:"".concat(h.a["newAdvertisement-actionSecond"]," btn btn-outline-primary"),secondButtonDisabled:t,secondButtonType:"submit"})]})};t.a=o.a.memo(p)},143:function(e,t,a){"use strict";var n=a(0),o=a.n(n),c=a(165),r=a(166),i=a(28),s=a(1),l=[42.384,12.613],u=function(e){var t=e.boatPosition,a=Object(r.a)("DcfLwyTnMIbhKLG6aqVn","streets"),o=Object(n.useContext)(i.b);return Object(s.jsxs)(c.a,{provider:a,dprs:[1,2],defaultCenter:t.includes(null)?l:t,defaultZoom:6,mouseEvents:!1,touchEvents:!1,minZoom:6,center:t,children:["desktop"===o.breakpoint&&Object(s.jsx)(c.c,{}),Object(s.jsx)(c.b,{width:50,color:"black",anchor:t})]})};t.a=o.a.memo(u)},293:function(e,t,a){e.exports={title:"NewBoatLocation_title__1nrCJ",inputs:"NewBoatLocation_inputs__1cTmy",layout:"NewBoatLocation_layout__6ZIKY",leftLayout:"NewBoatLocation_leftLayout__1m_ya",rightLayout:"NewBoatLocation_rightLayout__XW5dr"}},302:function(e,t,a){"use strict";a.r(t);var n=a(94),o=a(126),c=a(143),r=a(293),i=a.n(r),s=a(91),l=a(96),u=a(11),d=a(10),b=a.n(d),j=a(12),m=a(3),h=a(0),v=a(17),p=a.n(v),f=a(24),O=a(71),x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{lat:null,lon:null},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,o=Object(h.useRef)(a),c=Object(h.useState)(!1),r=Object(m.a)(c,2),i=r[0],s=r[1],l=Object(h.useState)(null),u=Object(m.a)(l,2),d=u[0],v=u[1],x=Object(h.useRef)(Object(O.g)(function(){var e=Object(j.a)(b.a.mark((function e(t,a){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,p.a.get("".concat(f.o,"city=").concat(t,"&state=").concat(a,"&country=Italy"));case 4:return n=e.sent,e.next=7,n.data[0];case 7:null!==(c=e.sent).lat&&null!==c.lon&&(o.current={lat:parseFloat(c.lat),lon:parseFloat(c.lon)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),v(e.t0);case 14:return e.prev=14,s(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t,a){return e.apply(this,arguments)}}(),n));return Object(h.useEffect)((function(){e.length>=4&&t.length>=4&&x.current(t,e)}),[e,t]),{coordinates:o.current,isLoading:i,error:d}},g=a(87),_=a(28),y=a(1);t.default=function(e){var t=e.onMutationUserBoat,a=e.boat,r=Object(h.useContext)(_.b).breakpoint,d=Object(s.a)(a&&a.isDocked?Object(l.e)(a.isDocked.harbour,a.isDocked.city,a.isDocked.region):Object(l.e)()),b=d.formValues,j=d.renderFormInputs,m=d.isFormValid,v=a&&a.isDocked?{lat:a.isDocked.coordinates[1],lon:a.isDocked.coordinates[0]}:void 0,p=x(b[2],b[1],v).coordinates,f=m()&&p.lat&&p.lon;return Object(y.jsx)(n.a,{layoutClassName:i.a.layout,leftLayoutClassName:i.a.leftLayout,rightLayoutClassName:i.a.rightLayout,contentLeft:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{className:i.a.title,children:" Dove si trova la tua barca?"}),Object(y.jsx)(c.a,{boatPosition:[p.lat,p.lon]})]}),contentRight:Object(y.jsxs)("form",{className:i.a.inputs,onSubmit:function(e){e.preventDefault(),t(Object(u.body_insertBoatLocation)({boatId:a._id,harbour:b[0],city:b[1],region:b[2],latitude:p.lat,longitude:p.lon}),(function(e,t){return e.map((function(e){return e._id===t._id?t:e}))}),(function(e){return"".concat(e._id,"/advertisement")}))},children:[j(),"smartphone"===r&&Object(y.jsx)(g.a,{heightVh:10}),Object(y.jsx)(o.a,{isDisabledNextStep:!f,stepPosition:2})]})})}},74:function(e,t,a){"use strict";var n=a(0),o=a.n(n),c=a(76),r=a.n(c),i=a(27),s=a(1),l=function(e){var t=e.type,a=e.className,n=e.onClick,o=e.disabled,c=e.isLoading,l=e.children;return Object(s.jsx)("button",{type:t||"submit",className:a||r.a.Button,onClick:n,disabled:o,children:c?Object(s.jsx)(i.a,{}):l})};t.a=o.a.memo(l)},76:function(e,t,a){e.exports={Button:"Button_Button__3gFiX"}},80:function(e,t,a){e.exports={control:"Input_control__7JYPz",invalid:"Input_invalid__1XscM","error-text":"Input_error-text__8zxoK"}},82:function(e,t,a){"use strict";var n=a(0),o=a.n(n),c=a(74),r=a(83),i=a.n(r),s=a(1),l=function(e){var t=e.actionClassName,a=e.firstButtonClassName,n=e.firstButtonClickHandler,o=e.firstButtonText,r=e.firstButtonDisabled,l=e.secondButtonClassName,u=e.secondButtonClickHandler,d=e.secondButtonText,b=e.secondButtonDisabled,j=e.secondButtonType;return Object(s.jsxs)("div",{className:t||i.a.actions,children:[Object(s.jsx)(c.a,{className:a||i.a["btn-first"],onClick:n,disabled:r,type:"button",children:o}),Object(s.jsx)(c.a,{className:"".concat(l," ").concat(i.a["btn-second"]),onClick:u,disabled:b,type:j||"button",children:d})]})};t.a=o.a.memo(l)},83:function(e,t,a){e.exports={actions:"ActionButton_actions__27dZ-","btn-first":"ActionButton_btn-first__v2NlO","btn-second":"ActionButton_btn-second__1MDkF"}},87:function(e,t,a){"use strict";var n=a(1);t.a=function(e){var t=e.heightVh,a=e.widthRatio,o=void 0===a?100:a;return Object(n.jsx)("div",{style:{height:"".concat(t,"vh"),width:"".concat(o,"%")}})}},91:function(e,t,a){"use strict";var n=a(29),o=a(7),c=a(16),r=a(3),i=a(0);t.a=function(e){var t=Object(i.useState)(e),a=Object(r.a)(t,2),s=a[0],l=a[1],u=Object(i.useCallback)((function(e){var t,a=Object(c.a)(e.validationRules);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(!n.validate(e.value,s))return e.errorMessage=n.message,!1}}catch(o){a.e(o)}finally{a.f()}return!0}),[s]),d=Object(i.useCallback)((function(e){var t=e.target,a=t.name,c=t.value,r=Object(o.a)({},s[a]);r.value=c;var i=u(r);i&&!r.valid?r.valid=!0:!i&&r.valid&&(r.valid=!1),l(Object(o.a)(Object(o.a)({},s),{},Object(n.a)({},a,r)))}),[s,u]),b=Object(i.useCallback)((function(e){var t=e.target.name,a=Object(o.a)({},s[t]);a.touched=!0;var c=u(a);c&&!a.valid?a.valid=!0:!c&&a.valid&&(a.valid=!1),l(Object(o.a)(Object(o.a)({},s),{},Object(n.a)({},t,a)))}),[s,u]),j=Object(i.useCallback)((function(){for(var e=!0,t=Object.values(s),a=0;a<t.length;a++)if(!t[a].valid){e=!1;break}return e}),[s]),m=Object(i.useCallback)((function(e){l(e)}),[]),h=Object(i.useCallback)((function(){l(e)}),[e]);return{formValues:Object.values(s).map((function(e){return e.value})),renderFormInputs:function(e){return Object.values(s).map((function(t){var a=t.value,n=t.label,o=t.errorMessage,c=t.valid,r=t.touched;return(0,t.render)(d,b,a,c,r,o,n,e)}))},isFormValid:j,changeForm:m,resetForm:h}}},92:function(e,t,a){e.exports={numberSpinner:"NumberSpinner_numberSpinner__2GLjj","number-spinner-container":"NumberSpinner_number-spinner-container__3A2xi","increase-btn":"NumberSpinner_increase-btn__1VhBa","decrease-btn":"NumberSpinner_decrease-btn__dM4kV","error-text":"NumberSpinner_error-text__5r1Z0"}},93:function(e,t,a){e.exports={control:"TextArea_control__SvEtY",invalid:"TextArea_invalid__2DFni","error-text":"TextArea_error-text__2lPUJ"}},94:function(e,t,a){"use strict";var n=a(95),o=a.n(n),c=a(1);t.a=function(e){var t=e.contentLeft,a=e.contentRight,n=e.actions,r=e.layoutClassName,i=e.leftLayoutClassName,s=e.rightLayoutClassName,l=e.rightLayoutContentClassName,u=e.rightLayoutActionsClassName;return Object(c.jsxs)("section",{className:"".concat(o.a.layout," ").concat(r),children:[Object(c.jsx)("div",{className:"".concat(o.a["left-layout"]," ").concat(i),children:t}),Object(c.jsxs)("div",{className:"".concat(o.a["right-layout"]," ").concat(s),children:[Object(c.jsx)("div",{className:"".concat(o.a["right-layout-content"]," ").concat(l),children:a}),Object(c.jsx)("div",{className:"".concat(o.a["right-layout-actions"]," ").concat(u),children:n})]})]})}},95:function(e,t,a){e.exports={layout:"SplitScreenLayout_layout__1eM0g","left-layout":"SplitScreenLayout_left-layout__2dGvv","right-layout":"SplitScreenLayout_right-layout__3Z0hS","right-layout-actions":"SplitScreenLayout_right-layout-actions__Uu3y-"}},96:function(e,t,a){"use strict";a.d(t,"b",(function(){return B})),a.d(t,"a",(function(){return k})),a.d(t,"f",(function(){return F})),a.d(t,"d",(function(){return L})),a.d(t,"e",(function(){return R})),a.d(t,"c",(function(){return S}));var n=a(7);function o(e,t,a){return{name:e,message:t,validate:a}}function c(e){return o("required","".concat(e," required"),(function(e,t){return 0!==e.length}))}function r(e,t){return o("minLength","".concat(e," should contain atleast ").concat(t," characters"),(function(e,a){return e.length>=t}))}function i(e){return o("isNumber","".concat(e," should be a number"),(function(e,t){return!isNaN(parseInt(e))}))}var s=a(0),l=a.n(s),u=a(80),d=a.n(u),b=a(92),j=a.n(b),m=a(1),h=void 0,v=function(e){var t=e.label,a=e.type,n=e.name,o=e.handleChange,c=e.valueChange,r=e.handleBlur,i=e.errorMessage,l=e.isValid,u=e.isTouched,b=e.value,v=e.classNames,p=u&&!l,f=p?"".concat(v," ").concat(d.a.invalid):"".concat(v),O=Object(s.useCallback)((function(e){o({target:{name:n,value:isNaN(e)?c:e+c>100*c?e:e+c}})}),[o,n,c]),x=Object(s.useCallback)((function(e){o({target:{name:n,value:isNaN(e)||e-c<0?0:e-c}})}),[o,n,c]);return Object(m.jsxs)("div",{className:"".concat(d.a.control," ").concat(f),children:[Object(m.jsx)("label",{htmlFor:n,children:t}),Object(m.jsxs)("div",{className:j.a["number-spinner-container"],children:[Object(m.jsxs)("div",{className:j.a.numberSpinner,children:[Object(m.jsx)("button",{type:"button",disabled:b<=0,className:j.a["decrease-btn"],onClick:x.bind(h,parseInt(b)),children:"-"}),Object(m.jsx)("input",{type:a,name:n,value:b,onChange:o,onBlur:r}),Object(m.jsx)("button",{type:"button",disabled:b>=100*c,className:j.a["increase-btn"],onClick:O.bind(h,parseInt(b)),children:"+"})]}),p&&Object(m.jsx)("span",{className:j.a["error-text"],children:i})]})]})},p=l.a.memo(v),f=function(e){var t=e.id,a=e.label,n=e.type,o=e.name,c=e.handleChange,r=e.handleBlur,i=e.errorMessage,s=e.isValid,l=e.isTouched,u=e.value,b=e.classNames,j=l&&!s,h=j?"".concat(b," ").concat(d.a.invalid):"".concat(b);return Object(m.jsxs)("div",{className:"".concat(h," ").concat(d.a.control),children:[Object(m.jsx)("label",{htmlFor:t||o,children:a}),Object(m.jsx)("input",{id:t,type:n,name:o,value:u,onChange:c,onBlur:r}),j&&Object(m.jsx)("span",{className:d.a["error-text"],children:i})]})},O=l.a.memo(f),x=a(93),g=a.n(x),_=function(e){var t=e.id,a=e.label,n=e.name,o=e.handleChange,c=e.handleBlur,r=e.errorMessage,i=e.isValid,s=e.isTouched,l=e.value,u=e.classNames,d=s&&!i,b=d?"".concat(u," ").concat(g.a.invalid):"".concat(u);return Object(m.jsxs)("div",{className:"".concat(b," ").concat(g.a.control),children:[Object(m.jsx)("label",{htmlFor:t||n,children:a}),Object(m.jsx)("textarea",{id:t,name:n,value:l,onChange:o,onBlur:c}),d&&Object(m.jsx)("span",{className:g.a["error-text"],children:r})]})};function y(e,t,a,n,o,c,r,i){return Object(m.jsx)(p,{name:this.name,type:this.type,label:this.label,isValid:n,isTouched:o,value:a,handleBlur:t,handleChange:e,valueChange:this.valueChange,errorMessage:c,classNames:i},r)}function N(e,t,a,n,o,c,r,i){return Object(m.jsx)(O,{name:this.name,type:this.type,label:this.label,isValid:n,isTouched:o,value:a,handleBlur:t,handleChange:e,errorMessage:c,classNames:i},r)}function C(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return{render:function(n,r,i,s,l,u,d,b){return o.call.apply(o,[{label:e,name:t,type:a,valueChange:c}].concat(Array.prototype.slice.call(arguments)))},label:e,value:n,valid:!!n,errorMessage:"",touched:!1}}var w,B={email:Object(n.a)(Object(n.a)({},C("Email","email","email")),{},{validationRules:[c("email"),(w="email",o("isEmail","Enter valid ".concat(w),(function(e,t){return e.includes("@")}))),r("email",10)]}),password:Object(n.a)(Object(n.a)({},C("Password","password","password")),{},{validationRules:[c("password"),r("password",8)]})},k={street:Object(n.a)(Object(n.a)({},C("Via","street","text")),{},{validationRules:[c("street"),r("street",4)]}),city:Object(n.a)(Object(n.a)({},C("Citt\xe0","city","text")),{},{validationRules:[c("city"),r("city",4)]}),region:Object(n.a)(Object(n.a)({},C("Regione","region","text")),{},{validationRules:[c("region"),r("region",4)]}),postalCode:Object(n.a)(Object(n.a)({},C("Codice postale","postalCode","number")),{},{validationRules:[c("postal code"),r("postal code",5),function(e,t){return o("maxLength","".concat(e," should contain atleast ").concat(t," characters"),(function(e,a){return e.length<=t}))}("postal code",5)]})},F={oldPassword:Object(n.a)(Object(n.a)({},C("Password attuale","oldPassword","password")),{},{validationRules:[c("old password"),r("old password",8)]}),password:Object(n.a)(Object(n.a)({},C("Nuova password","password","password")),{},{validationRules:[c("new password"),r("new password",8)]}),confirmPassword:Object(n.a)(Object(n.a)({},C("Conferma la password","confirmPassword","password")),{},{validationRules:[o("passwordMatch","passwords do not match",(function(e,t){return e===t.password.value}))]})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{yard:Object(n.a)(Object(n.a)({},C("Cantiere","yard","text",e)),{},{validationRules:[c("yard")]}),model:Object(n.a)(Object(n.a)({},C("Modello","model","text",t)),{},{validationRules:[c("model")]}),length:Object(n.a)(Object(n.a)({},C("Lunghezza","length","text",a,y)),{},{validationRules:[c("length"),i("length")]}),maximumCapacity:Object(n.a)(Object(n.a)({},C("Capacit\xe0 massima","maximumCapacity","text",o,y)),{},{validationRules:[c("maximum capacity"),i("maximum capacity")]})}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{harbour:Object(n.a)(Object(n.a)({},C("Porto","harbour","text",e)),{},{validationRules:[c("harbour"),r("harbour",4)]}),city:Object(n.a)(Object(n.a)({},C("Citt\xe0","city","text",t)),{},{validationRules:[c("city"),r("city",4)]}),region:Object(n.a)(Object(n.a)({},C("Regione","region","text",a)),{},{validationRules:[c("region"),r("region",4)]})}},S={description:Object(n.a)(Object(n.a)({},C("Descrizione","description","","",(function(e,t,a,n,o,c,r,i){return Object(m.jsx)(_,{name:this.name,label:this.label,isValid:n,isTouched:o,value:a,handleBlur:t,handleChange:e,errorMessage:c,classNames:i},r)}))),{},{validationRules:[c("description"),r("description",10)]}),dailyFee:Object(n.a)(Object(n.a)({},C("Tariffa giornaliera","dailyFee","number",0,y,25)),{},{validationRules:[c("dailyFee"),i("dailyFee")]}),fixedFee:Object(n.a)(Object(n.a)({},C("Tariffa fissa","fixedFee","number",0,y,25)),{},{validationRules:[c("fixedFee"),i("fixedFee")]})}}}]);
//# sourceMappingURL=14.773285ac.chunk.js.map