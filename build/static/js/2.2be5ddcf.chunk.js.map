{"version":3,"sources":["../node_modules/pigeon-maps/lib/index.esm.js","../node_modules/pigeon-maps/lib/providers.esm.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","osm","z","String","fromCharCode","NOOP","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","n","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","setTimeout","cancelAnimationFrame","animFrame","clearTimeout","srcSet","dprs","url","map","dpr","join","Map","_Component","subClass","superClass","props","_ref","_props$defaultZoom","_ref2","_props$defaultCenter","_ref3","_props$width","_ref4","_props$height","_this","call","this","_dragStart","_mouseDown","_moveEvents","_lastClick","_lastTap","_lastWheel","_touchStartPixel","_touchStartMidPoint","_touchStartDistance","_secondTouchEnd","_warningClearTimeout","_isAnimating","_animationStart","_animationEnd","_zoomStart","_centerTarget","_zoomTarget","_zoomAround","_animFrame","_boundsSynced","_minMaxCache","_resizeObserver","updateWidthHeight","_containerRef","width","height","setState","wa","_window","addEventListener","wr","_window2","removeEventListener","bindMouseEvents","handleMouseDown","handleMouseUp","handleMouseMove","bindTouchEvents","handleTouchStart","passive","handleTouchMove","handleTouchEnd","unbindMouseEvents","unbindTouchEvents","bindResizeEvent","unbindResizeEvent","bindWheelEvent","handleWheel","unbindWheelEvent","setCenterZoomTarget","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","calculateZoomCenter","stopAnimating","_center","setCenterZoom","setCenterZoomForChildren","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","t","progress","max","percentage","zoomDiff","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","o","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","pixelsAtZoom","minLng","minLat","maxLng","imageLoaded","values","v","touches","touch","pixel","coordsInside","twoFingerDrag","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","throwAfterMoving","latLng","ceil","floor","_zoom","button","_mousePosition","onClick","_this$sendDeltaChange2","undefined","coords","shift","_this$state4","lastEvent","deltaMs","delta","throwTime","lng","_this$state5","getBounds","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","initial","_this$props2","mouseEvents","metaWheelZoom","metaKey","ctrlKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","warningType","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","setRef","func","wait","timeout","_len","args","Array","_key","context","debounce","defaultZoom","defaultCenter","defaultWidth","defaultHeight","prototype","create","constructor","__proto__","_proto","componentDidMount","_this2","touchEvents","ResizeObserver","observe","componentWillUnmount","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref5","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","_this$state11","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","position","overflow","willChange","transform","transformOrigin","boxClassname","tilesStyle","React","createElement","style","tile","src","loading","onLoad","alt","opacity","renderOverlays","_this4","_this$state12","mapState","childrenWithProps","Children","children","child","isValidElement","_child$props","anchor","offset","c","cloneElement","mapProps","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","linkStyle","color","textDecoration","bottom","right","fontSize","padding","background","fontFamily","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state13","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state14","containerStyle","touchAction","hasSize","ref","Component","Marker","_useState","useState","hover","internalHover","setInternalHover","eventParameters","payload","cursor","viewBox","fill","xmlns","onContextMenu","onMouseOver","onMouseOut","d","stroke","strokeWidth","cx","cy","r","defaultProps","commonStyle","commonButtonStyle","borderRadius","boxShadow","lineHeight","fontWeight","marginBottom","border","outline","ZoomControl","buttonStyle","maptiler","apiKey"],"mappings":"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","file":"static/js/2.2be5ddcf.chunk.js","sourcesContent":["import React, { Component, useState, useRef, useEffect } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n\n    _this.wr = function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.setCenterZoomForChildren = function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n        zoom = _ref5.zoom,\n        pixelDelta = _ref5.pixelDelta,\n        zoomDelta = _ref5.zoomDelta,\n        width = _ref5.width,\n        height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var _this$state11 = this.state,\n        oldTiles = _this$state11.oldTiles,\n        width = _this$state11.width,\n        height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state12 = this.state,\n        width = _this$state12.width,\n        height = _this$state12.height,\n        center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, '  ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n        showWarning = _this$state13.showWarning,\n        warningType = _this$state13.warningType,\n        width = _this$state13.width,\n        height = _this$state13.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n        width = _this$state14.width,\n        height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n\n  var _useState = useState(defaultState),\n      _state = _useState[0],\n      _setState = _useState[1];\n\n  propsRef.current = props;\n\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n\n    stateRef.current = newState;\n\n    _setState(newState);\n  };\n\n  var _props$mapProps = props.mapProps,\n      mouseEvents = _props$mapProps.mouseEvents,\n      touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n              _left = _propsRef$current.left,\n              _top = _propsRef$current.top,\n              offset = _propsRef$current.offset,\n              pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n            offset = _propsRef$current2.offset,\n            pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n            _startLeft = _stateRef$current.startLeft,\n            _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n          offset = _propsRef$current3.offset,\n          pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n          deltaX = _stateRef$current2.deltaX,\n          deltaY = _stateRef$current2.deltaY,\n          startLeft = _stateRef$current2.startLeft,\n          startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n      top = props.top,\n      className = props.className,\n      style = props.style;\n  var deltaX = _state.deltaX,\n      deltaY = _state.deltaY,\n      startLeft = _state.startLeft,\n      startTop = _state.startTop,\n      isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n      buttonStyle = _ref.buttonStyle,\n      setCenterZoom = _ref.setCenterZoom,\n      mapState = _ref.mapState,\n      mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\n\nexport { Draggable, Map, Marker, Overlay, ZoomControl };\n","function osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\nfunction stamenToner(x, y, z, dpr) {\n  if (dpr === void 0) {\n    dpr = 1;\n  }\n\n  return \"https://stamen-tiles.a.ssl.fastly.net/toner/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png\";\n}\nfunction stamenTerrain(x, y, z, dpr) {\n  if (dpr === void 0) {\n    dpr = 1;\n  }\n\n  return \"https://stamen-tiles.a.ssl.fastly.net/terrain/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".jpg\";\n}\nvar maptiler = function maptiler(apiKey, map) {\n  if (map === void 0) {\n    map = 'streets';\n  }\n\n  return function (x, y, z, dpr) {\n    if (dpr === void 0) {\n      dpr = 1;\n    }\n\n    return \"https://api.maptiler.com/maps/\" + map + \"/256/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png?key=\" + apiKey;\n  };\n};\n\nexport { maptiler, osm, stamenTerrain, stamenToner };\n"],"sourceRoot":""}