{"version":3,"sources":["helpers/httpConfig.js","middleware/axiosConfig.js","hooks-store/store.js","components/UI/Fallback/Fallback.js","components/UI/LoadingSpinner/LoadingSpinner.module.css","components/UI/Footer/Footer.module.css","helpers/Utils/constants.js","hooks/use-http.js","components/UI/LoadingSpinner/LoadingSpinner.js","store/breakpoint-context.js","components/UI/icons/MenuIcons/HeartIcon.js","components/UI/icons/MenuIcons/SearchIcon.js","components/UI/Navigation/NavigationBar.module.css","components/UI/icons/PencilIcon.js","components/RequireAuth/RequireAuth.js","components/UI/icons/MenuIcons/UserIcon.js","components/UI/Navigation/NavigationBar.js","components/UI/Footer/Footer.js","hooks/use-intersection-observer.js","components/UI/Layout/NavigationLayout/NavigationLayout.js","App.js","middleware/axiosMiddleware.js","index.js","hooks-store/favorites-store.js","store/auth-context.js"],"names":["exports","body_login","query","variables","userData","email","enteredEmail","password","enteredPassword","body_signup","body_changePassword","passwordData","oldPassword","newPassword","body_updateUser","street","city","region","postalCode","body_search","contains","filter","body_advertisements","from","to","minCapacity","boatTypes","minPrice","maxPrice","skip","take","body_advertisement","boatId","body_addBoat","boatData","yard","model","length","maximumCapacity","boatType","_id","body_removeBoat","body_insertBoatLocation","locationData","isDocked","harbour","latitude","longitude","body_publishAdvertisement","advertisementData","publishAdvertisement","description","dailyFee","fixedFee","body_rentBoat","rentalData","body_updateRental","rentalId","body_backdateRental","body_recordBoatReturn","body_boatRentals","body_deleteRental","body_publishReview","reviewData","body","rating","body_shipownerAdvertisements","body_withdrawAdvertisement","body_favorites","body_addFavorite","body_removeFavorite","body_refresh","invalidate","body_user","body_deleteUser","body_userBoats","body_rentals","body_userRentals","body_addAvatar","operations","map","body_addBoatImages","http","axios","create","method","withCredentials","baseURL","GRAPHQL_API_URL","globalState","listeners","actions","useStore","shouldListen","setState","useState","dispatch","actionIdentifier","payload","newState","listener","useEffect","push","li","initStore","userActions","initialState","Fallback","style","display","width","height","alignItems","module","NOMINATIM_BASE_URL","DEFAULT_BOAT_IMAGE","DEFAULT_AVATAR","MANAGE_BOATS","ADD_GUEST","REMOVE_GUEST","INITIAL_PRICE","MANAGE_MIN_PRICE","MANAGE_MAX_PRICE","CLEAR_FORM","NUMBER_BOAT_TYPES","SWITCH_SEARCH","CHANGE_START_DATE","CHANGE_END_DATE","CLEAR_DATES","SHOW_BILL","SHOW_VISIBLE_CONTENT","CLEAR_RENTAL","httpReducer","state","action","type","data","status","error","responseData","useHttp","startWithPending","useReducer","httpState","sendRequest","useCallback","requestConfig","a","applyData","headers","token","res","resData","Error","errors","message","LoadingSpinner","className","classes","spinner","BreakpointContext","createContext","breakpoint","BreakpointContextProvider","children","window","innerWidth","setBreakpoint","mediaQuery","matchMedia","handleQueryListener","event","matches","addEventListener","passive","removeEventListener","contextValue","Provider","value","HeartIcon","props","xmlns","viewBox","fill","fillRule","d","clipRule","SearchIcon","PencilIcon","stroke","strokeLinecap","strokeLinejoin","strokeWidth","RequireAuth","isLoading","setIsLoading","isLoggedIn","useContext","AuthContext","timer","useRef","current","setTimeout","clearTimeout","replace","UserIcon","NavigationBar","forwardRef","navigationRef","authenticated","isIntersecting","btnIsClicked","setBtnIsClicked","userFavorites","bumpTimer","btnClasses","item","bump","ref","hide","show","end","navData","isActive","active","position","heart","Footer","React","footer","useIntersectionObserver","root","rootMargin","threshold","setIsIntersecting","node","setNode","observer","IntersectionObserver","entry","currentObserver","observe","disconnect","NavigationLayout","location","useLocation","options","useMemo","pathname","Home","lazy","Favorites","Auth","Profile","Results","Advertisement","UserDetails","Rentals","NewAdvertisement","AdvertisementAdministration","WebsiteAdministration","App","fallback","element","path","AxiosMiddleware","authCtx","interceptors","response","use","includes","refreshToken","tokenData","login","config","request","logout","Promise","reject","ReactDOM","render","document","getElementById","configureStore","fetchedFavorites","TOGGLE_FAV","curState","favoriteAdv","some","userFavAdv","concat","AuthContextProvider","setToken","userIsLoggedIn","getUserFavoritesHandler","favoritesConfigureStore","favorites","favorite","advIsFavorite","loginHandler","logoutHandler","authData"],"mappings":"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","file":"static/js/main.d2d9230e.chunk.js","sourcesContent":["exports.body_login = ({enteredEmail, enteredPassword}) => {\n    return {\n        query: `\n            mutation($userData: UserInput!) {\n                login(inputUser: $userData) {\n                    authData {\n                        userId\n                        token\n                    }\n                    authProblem\n                }\n            }\n        `,\n        variables: {userData: {email: enteredEmail, password: enteredPassword}}\n    }\n};\nexports.body_signup = ({enteredEmail, enteredPassword}) => {\n    return {\n        query: `\n            mutation($userData: UserInput!) {\n                createUser(inputUser: $userData) {\n                    authData {\n                        userId\n                        token\n                    }\n                    authProblem\n                }  \n            }\n        `,\n        variables: {userData: {email: enteredEmail, password: enteredPassword}}\n    }\n};\nexports.body_changePassword = ({oldPassword, newPassword}) => {\n    return {\n        query: `\n            mutation($passwordData: ChangePasswordInput!) {\n                changePassword(inputChangePassword: $passwordData) {\n                    changePasswordData {\n                        email\n                        avatar\n                        createdAt\n                        address {\n                            street\n                            city\n                            region   \n                            postalCode\n                        }\n                    }\n                    changePasswordProblem\n                }  \n            }\n        `,\n        variables: {passwordData: {oldPassword, newPassword}}\n    }\n};\nexports.body_updateUser = ({street, city, region, postalCode}) => {\n    return {\n        query: `\n            mutation($userData: UpdateUserInput!) {\n                updateUser(inputUpdateUser: $userData) {\n                    updateUserData {\n                        email\n                        avatar\n                        createdAt\n                        address {\n                            street\n                            city\n                            region\n                            postalCode\n                        }\n                    }\n                    updateUserProblem\n                }  \n            }\n        `,\n        variables: {userData: {street, city, region, postalCode}}\n    }\n};\nexports.body_search = (contains) => {\n    return {\n        query: `\n            query($filter: LocationFilter!) {\n                listAllLocations(filter: $filter) {\n                    region\n                    city\n                }\n            }\n        `,\n        variables: {filter: {contains}}\n    }\n};\nexports.body_advertisements = ({city, region, from, to, minCapacity, boatTypes, minPrice, maxPrice, skip, take}) => {\n    return {\n        query: `\n            query($filter: BoatFilter! $skip: Int $take: Int) {\n                advertisements(filter: $filter, skip: $skip, take: $take) {\n                    _id\n                    model\n                    totalCount\n                    maximumCapacity\n                    minPrice\n                    maxPrice\n                    hasAdvertisement {\n                        description\n                        images\n                        dailyFee\n                    }\n                    reviews {\n                        rating\n                    }\n                }\n            }\n        `,\n        variables: {filter: {region, city, from, to, minCapacity, boatTypes, minPrice, maxPrice}, skip, take}\n    }\n};\nexports.body_advertisement = (boatId) => {\n    return {\n        query: `\n            query AdvertisementDetails($boatId: ID!) {\n                advertisement(boatId: $boatId) {\n                    model\n                    yard\n                    length\n                    maximumCapacity\n                    boatType\n                    owner {\n                        email\n                        avatar\n                    }\n                    hasAdvertisement {\n                        description\n                        images\n                        dailyFee\n                        fixedFee\n                    }\n                    isDocked {\n                        region\n                        city\n                        harbour\n                        coordinates \n                    }\n                    reviews {\n                        _id\n                        body\n                        rating\n                        createdAt\n                        creator {\n                            email\n                            avatar\n                        }\n                    }\n                }\n                boatRentals(boatId: $boatId) {\n                    from\n                    to\n                }\n            }        \n        `,\n        variables: boatId\n    }\n};\nexports.body_addBoat = ({yard, model, length, maximumCapacity, boatType, _id}) => {\n    return {\n        query: `\n            mutation($boatData: BoatInput!) {\n                addBoat(inputBoat: $boatData) {\n                    addBoatData {\n                        _id\n                        yard\n                        model\n                        length\n                        maximumCapacity\n                        boatType\n                        isDocked {\n                            harbour\n                            city\n                            region\n                            coordinates   \n                        }\n                    }\n                    addBoatProblem\n                }\n            }\n        `,\n        variables: {boatData: {yard, model, length, maximumCapacity, boatType, _id}}\n    }\n};\nexports.body_removeBoat = (boatId) => {\n    return {\n        query: `\n            mutation($boatId: ID!) {\n                removeBoat(boatId: $boatId) {\n                    removedBoatId\n                    removeBoatProblem\n                }\n            }\n        `,\n        variables: boatId\n    }\n};\nexports.body_insertBoatLocation = ({boatId, harbour, city, region, latitude, longitude}) => {\n    return {\n        query: `\n            mutation($locationData: InsertBoatLocationInput!) {\n                insertBoatLocation(inputInsertBoatLocation: $locationData) {\n                    insertBoatLocationData {\n                        _id\n                        yard\n                        model\n                        length\n                        maximumCapacity\n                        boatType\n                        isDocked {\n                            region\n                            city\n                            harbour\n                            coordinates \n                        }\n                    }\n                    insertBoatLocationProblem\n                }\n            }\n        `,\n        variables: {locationData: {boatId, isDocked: {harbour, city, region, latitude, longitude}}}\n    }\n};\nexports.body_publishAdvertisement = ({boatId, description, dailyFee, fixedFee}) => {\n    return {\n        query: `\n            mutation($advertisementData: PublishAdvertisementInput!) {\n                publishAdvertisement(inputPublishAdvertisement: $advertisementData) {\n                    publishAdvertisementData {\n                        _id\n                    }\n                    publishAdvertisementProblem\n                }\n            }\n        `,\n        variables: {advertisementData: {boatId, publishAdvertisement: {description, dailyFee, fixedFee}}}\n    }\n};\nexports.body_rentBoat = ({boatId, from, to}) => {\n    return {\n        query: `\n            mutation($rentalData: RentBoatInput!) {\n                rentBoat(inputRentBoat: $rentalData) {\n                    rentBoatData {\n                        billNumber\n                        from\n                        to\n                        dailyFee\n                        fixedFee\n                        createdAt\n                        customer {\n                            email\n                        }\n                        boat {\n                            model\n                            yard\n                            owner {\n                                email\n                            }\n                            isDocked {\n                                region\n                                city\n                                harbour\n                                coordinates\n                            }\n                        }\n                    }\n                    rentBoatProblem\n                }\n            }\n        `,\n        variables: {rentalData: {boatId, from, to}}\n    }\n};\nexports.body_updateRental = ({rentalId, from, to}) => {\n    return {\n        query: `\n            mutation($rentalData: UpdateRentalInput!) {\n                updateRental(inputUpdateRental: $rentalData) {\n                    updateRentalData {\n                        _id\n                        billNumber\n                        from\n                        to\n                        dailyFee\n                        fixedFee\n                        createdAt\n                        customer {\n                            _id\n                            email\n                        }\n                        boat {\n                            _id\n                            yard\n                            model\n                            length\n                            maximumCapacity\n                            boatType\n                            owner {\n                                email\n                            }\n                            hasAdvertisement {\n                                description\n                                images\n                                dailyFee\n                                fixedFee\n                            }\n                            isDocked {\n                                region\n                                city\n                                harbour\n                            }\n                            reviews {\n                                _id\n                                body\n                                rating\n                                rental\n                                createdAt\n                                creator {\n                                    _id\n                                    email\n                                    avatar\n                                }\n                            }\n                        }\n                    }\n                    updateRentalProblem\n                }\n            }\n        `,\n        variables: {rentalData: {rentalId, from, to}}\n    }\n};\nexports.body_backdateRental = ({rentalId, from, to}) => {\n    return {\n        query: `\n            mutation($rentalData: UpdateRentalInput!) {\n                backdateRental(inputUpdateRental: $rentalData) {\n                    backdateRentalData {\n                        _id\n                        from\n                        to\n                        boat {\n                            _id\n                            isDocked {\n                                city\n                            }\n                        }\n                        customer {\n                            email\n                        }\n                    }\n                    backdateRentalProblem\n                }\n            }\n        `,\n        variables: {rentalData: {rentalId, from, to}}\n    }\n};\nexports.body_recordBoatReturn = (rentalId) => {\n    return {\n        query: `\n            mutation($rentalId: ID!) {\n                recordBoatReturn(rentalId: $rentalId) {\n                    recordBoatReturnData {\n                        _id\n                        from\n                        to\n                        dailyFee\n                        fixedFee\n                        billNumber\n                        createdAt\n                        redelivery\n                        boat {\n                            _id\n                            model\n                            yard\n                            owner {\n                                email\n                            }\n                            isDocked {\n                                city\n                                region\n                                harbour\n                            }\n                            reviews {\n                                rating\n                                rental\n                                creator {\n                                    _id\n                                }\n                            }\n                        }\n                        customer {\n                            _id\n                            email\n                        }\n                    }\n                    recordBoatReturnProblem\n                }\n            }\n        `,\n        variables: rentalId\n    }\n};\nexports.body_boatRentals = (boatId) => {\n    return {\n        query: `\n            query($boatId: ID!) {\n                boatRentals(boatId: $boatId) {\n                    from\n                    to\n                }\n            }\n        `,\n        variables: boatId\n    }\n};\nexports.body_deleteRental = (rentalId) => {\n    return {\n        query: `\n            mutation($rentalId: ID!) {\n                deleteRental(rentalId: $rentalId) {\n                    deletedRentalId\n                    deleteRentalProblem\n                }\n            }\n        `,\n        variables: rentalId\n    }\n};\nexports.body_publishReview = ({rentalId, body, rating}) => {\n    return {\n        query: `\n            mutation($reviewData: ReviewInput!) {\n                publishReview(inputReview: $reviewData) {\n                    publishReviewData {\n                        body\n                        rating\n                        rental\n                        createdAt\n                        creator {\n                            _id\n                        }\n                    }\n                    publishReviewProblem\n                }\n            }\n        `,\n        variables: {reviewData: {rentalId, body, rating}}\n    }\n};\nexports.body_shipownerAdvertisements = {\n    query: `\n        query shipownerAdvertisements {\n            advertisementsByShipowner {\n                _id\n                yard\n                model\n                hasAdvertisement {\n                    images\n                    createdAt\n                    preferredBy {\n                        _id\n                    }\n                }\n                isDocked {\n                    region\n                    city\n                    harbour\n                }\n                reviews {\n                    _id\n                    rating\n                }\n            }\n            rentalsByShipowner {\n                _id\n                from\n                to\n                redelivery\n                dailyFee\n                fixedFee\n                billNumber\n                createdAt\n                boat {\n                    _id\n                    model\n                    yard\n                    owner {\n                        email\n                    }\n                    isDocked {\n                        city\n                        region\n                        harbour\n                    }\n                    reviews {\n                        rating\n                        rental\n                        creator {\n                            _id\n                        }\n                    }\n                }\n                customer {\n                    _id\n                    email\n                }\n            }\n        }\n    `\n};\nexports.body_withdrawAdvertisement = (boatId) => {\n    return {\n        query: `\n            mutation($boatId: ID!) {\n                withdrawAdvertisement(boatId: $boatId) {\n                    withdrawnAdvertisementId\n                    withdrawAdvertisementProblem\n                }\n            }\n        `,\n        variables: boatId\n    }\n}\nexports.body_favorites = {\n    query: `\n        query {\n            favorites {\n                _id\n                model\n                maximumCapacity\n                hasAdvertisement {\n                    images\n                    description\n                    dailyFee\n                }\n                reviews {\n                    rating\n                }\n            }  \n        }\n    `,\n};\nexports.body_addFavorite = (boatId) => {\n    return {\n        query: `\n            mutation($boatId: ID!) {\n                addFavorite(boatId: $boatId) {\n                    favoritesData {\n                        _id\n                        model\n                        maximumCapacity\n                        hasAdvertisement {\n                            images\n                            description\n                            dailyFee\n                        }\n                        reviews {\n                            rating\n                        }\n                    }\n                    favoritesProblem\n                }\n            }\n        `,\n        variables: boatId\n    }\n};\nexports.body_removeFavorite = (boatId) => {\n    return {\n        query: `\n            mutation($boatId: ID!) {\n                removeFavorite(boatId: $boatId) {\n                    favoritesData {\n                        _id\n                        model\n                        maximumCapacity\n                        hasAdvertisement {\n                            images\n                            description\n                            dailyFee\n                        }\n                        reviews {\n                            rating\n                        }\n                    }\n                    favoritesProblem\n                }\n            }\n        `,\n        variables: boatId\n    }\n};\nexports.body_refresh = {\n    query: `\n        query {\n            refreshToken {\n                userId\n                token\n            }  \n        }\n    `,\n};\nexports.invalidate = {\n    query: `\n        mutation {\n            invalidateTokens\n        }\n    `,\n};\nexports.body_user = {\n    query: `\n        query {\n            user {\n                email\n                avatar\n                userType\n                createdAt\n                address {\n                    street\n                    city\n                    region\n                    postalCode\n                }\n            }\n        }\n    `,\n};\nexports.body_deleteUser = {\n    query: `\n        mutation {\n            deleteUser {\n                deletedUserId\n                deleteUserProblem\n            }\n        }\n    `\n};\nexports.body_userBoats = {\n    query: `\n        query BoatDetails {\n            boatsByUser {\n                _id\n                yard\n                model\n                length\n                maximumCapacity\n                boatType\n                isDocked {\n                    harbour\n                    city\n                    region\n                    coordinates\n                }\n            }\n            user {\n                email\n            }\n            rentalsByShipowner {\n                from\n                to\n                boat {\n                    _id\n                }\n            }\n        }\n    `\n};\nexports.body_rentals = {\n    query: `\n        query {\n            rentals {\n                _id\n                from\n                to\n                boat {\n                    _id\n                    isDocked {\n                        city\n                    }\n                }\n                customer {\n                    email\n                }\n            }\n        }\n    `\n};\nexports.body_userRentals = {\n    query: `\n        query {\n            rentalsByUser {\n                _id\n                billNumber\n                from\n                to\n                redelivery\n                dailyFee\n                fixedFee\n                createdAt\n                customer {\n                    _id\n                    email\n                }\n                boat {\n                    _id\n                    model\n                    yard\n                    owner {\n                        email\n                    }\n                    hasAdvertisement {\n                        images\n                        description\n                        dailyFee\n                        fixedFee\n                    }\n                    isDocked {\n                        region\n                        city\n                        harbour\n                    }\n                    reviews {\n                        creator {\n                            _id\n                        }\n                        createdAt\n                        body\n                        rating\n                        rental\n                    }\n                }\n            }\n        }\n    `\n};\nexports.body_addAvatar = {\n    operations: `{ \"query\": \"mutation ($file: Upload!) { addAvatar(upload: $file) { addAvatarData { email avatar createdAt address { street city region postalCode } } addAvatarProblem }  }\", \"variables\": { \"file\": null } }`,\n    map: `{\"0\": [\"variables.file\"]}`,\n};\nexports.body_addBoatImages = {\n    operations: (boatId) => `{ \"query\": \"mutation ($boatId: ID!, $files: [Upload!]!) { addBoatImages(boatId: $boatId, files: $files) { addBoatImagesData { _id } addBoatImagesProblem }  }\", \"variables\": { \"boatId\": \"${boatId}\", \"files\": [null, null, null] } }`,\n    map: `{\"0\": [\"variables.files.0\"], \"1\": [\"variables.files.1\"], \"2\": [\"variables.files.2\"]}`,\n};\n","import axios from \"axios\";\nimport {GRAPHQL_API_URL} from \"../helpers/Utils/constants\";\n\nconst http = axios.create({\n    method: \"post\",\n    withCredentials: true,\n    baseURL: GRAPHQL_API_URL\n});\n\nexport default http;\n\n","import {useState, useEffect} from \"react\";\n\n// we share globalState between all components that import this file.\nlet globalState = {};\n// array full of setState which i call to update all components that are using my hook\nlet listeners = [];\nlet actions = {};\n\n\nexport const useStore = (shouldListen = true) => {\n    // we need this for render our components when something in our state changes.\n    const setState = useState(globalState)[1]\n\n    // (use identifier of action to reach action)\n    // like reducer function we check action and return a state, like reducer\n    const dispatch = (actionIdentifier, payload) => {\n        const newState = actions[actionIdentifier](globalState, payload)\n        // global state is an object with old data, plus new data\n        globalState = {...globalState, ...newState}\n\n        // inform all listeners about state update using useState\n        for (const listener of listeners) {\n            listener(globalState)\n        }\n    }\n\n    useEffect(() => {\n        // every component that uses my hook, will get its own setState, which is added\n        // to shared listeners array\n        if (shouldListen) {\n            listeners.push(setState);\n        }\n\n        // remove the listener when the component unmount\n        return () => {\n            if (shouldListen) {\n                listeners = listeners.filter(li => li !== setState)\n            }\n        }\n    }, [setState, shouldListen])\n\n    return [globalState, dispatch]\n};\n\nexport const initStore = (userActions, initialState) => {\n    if (initialState) {\n        globalState = {...globalState, ...initialState}\n    }\n    actions = {...actions, ...userActions}\n}\n","import LoadingSpinner from \"../LoadingSpinner/LoadingSpinner\";\n\nconst Fallback = () => {\n    return (\n        <div style={{display: \"flex\", width:\"100%\", height:\"100vh\", alignItems: \"center\"}}>\n            <LoadingSpinner/>\n        </div>\n    )\n}\n\nexport default Fallback\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__2-3iP\",\"lds-dual-ring\":\"LoadingSpinner_lds-dual-ring__kGMMn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1wbuT\",\"grid-footer\":\"Footer_grid-footer__1Ou9F\"};","export const GRAPHQL_API_URL = \"/api\"\nexport const NOMINATIM_BASE_URL = 'https://nominatim.openstreetmap.org/search?format=json&'\nexport const DEFAULT_BOAT_IMAGE = `/public/images/default-boat.png`\nexport const DEFAULT_AVATAR = `/public/images/default.jpg`\n\n/* Constants filterReducer */\nexport const MANAGE_BOATS = \"MANAGE_BOATS\"\nexport const ADD_GUEST = \"ADD_GUEST\"\nexport const REMOVE_GUEST = \"REMOVE_GUEST\"\nexport const INITIAL_PRICE = \"INITIAL_PRICE\"\nexport const MANAGE_MIN_PRICE = \"MANAGE_MIN_PRICE\"\nexport const MANAGE_MAX_PRICE = \"MANAGE_MAX_PRICE\"\nexport const CLEAR_FORM = \"CLEAR_FORM\"\nexport const NUMBER_BOAT_TYPES = 4\nexport const SWITCH_SEARCH = \"SWITCH_SEARCH\"\nexport const CHANGE_START_DATE = \"CHANGE_START_DATE\"\nexport const CHANGE_END_DATE = \"CHANGE_END_DATE\"\nexport const CLEAR_DATES = \"CLEAR_DATES\"\n\n/* Constants advertisementReducer */\nexport const SHOW_BILL = \"SHOW_BILL\"\nexport const SHOW_VISIBLE_CONTENT = \"SHOW_VISIBLE_CONTENT\"\nexport const CLEAR_RENTAL = \"CLEAR_RENTAL\"\n\n\n","import {useReducer, useCallback} from \"react\";\nimport http from \"../middleware/axiosConfig\";\n\nconst httpReducer = (state, action) => {\n    if (action.type === \"SEND\") {\n        return { data: null, status: 'pending', error: null} }\n    if (action.type === \"SUCCESS\") {\n        return { data: action.responseData, status: 'completed', error: null} }\n    if (action.type === \"ERROR\") {\n        return { data: null, status: 'completed', error: action.error} }\n    return state;\n}\n\nconst useHttp = (startWithPending = false) => {\n    const [httpState, dispatch] = useReducer(httpReducer, {\n        status: startWithPending ? 'pending' : null, data: null, error: null });\n\n    const sendRequest = useCallback(async (requestConfig, applyData = () => {}) => {\n        dispatch({type: \"SEND\"})\n        try {\n            const res = await http({\n                data: requestConfig.body,\n                headers: { 'Authorization': `Bearer ${requestConfig.token}` },\n            })\n            const resData = await res.data.data\n\n            if (res.status !== 200 && res.status !== 201) {\n                throw new Error(resData.errors[0].message);\n            }\n\n            dispatch({ type: 'SUCCESS', responseData: applyData(resData) });\n        } catch (err) {\n            dispatch({ type: \"ERROR\", error: err.message || 'Something went wrong!'});\n        }\n    }, []);\n\n    return {\n        sendRequest,\n        ...httpState\n    }\n}\n\nexport default useHttp;\n","import React from \"react\";\nimport classes from \"./LoadingSpinner.module.css\"\n\nconst LoadingSpinner = () => {\n    return (\n        <div className={classes.spinner}>\n            <div className={classes[\"lds-dual-ring\"]}/>\n        </div>\n    )\n}\n\nexport default LoadingSpinner;\n","import {createContext, useEffect, useState} from \"react\";\n\nconst BreakpointContext = createContext({\n    breakpoint: '',\n})\n\nexport const BreakpointContextProvider = ({children}) => {\n    const [breakpoint, setBreakpoint] = useState(window.innerWidth > 768 ? \"desktop\" : \"smartphone\")\n\n    useEffect(() => {\n        let mediaQuery = window.matchMedia(\"(min-width: 769px)\");\n\n        const handleQueryListener = event => {\n            if (event.matches) { setBreakpoint(\"desktop\") }\n            else { setBreakpoint(\"smartphone\") }\n        }\n\n        mediaQuery.addEventListener('change', handleQueryListener, { passive: true })\n        return () => mediaQuery.removeEventListener('change', handleQueryListener);\n    }, [])\n\n\n    const contextValue = {\n        breakpoint\n    }\n\n    return (\n        <BreakpointContext.Provider value={contextValue}>\n            {children}\n        </BreakpointContext.Provider>\n    )\n}\n\nexport default BreakpointContext\n","const HeartIcon = props => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className={`${props.className} h-5 w-5`}\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\">\n            <path fillRule=\"evenodd\"\n                  d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\n                  clipRule=\"evenodd\"/>\n        </svg>\n    );\n};\n\nexport default HeartIcon;\n","const SearchIcon = () => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n             className=\"h-5 w-5\"\n             viewBox=\"0 0 20 20\"\n             fill=\"currentColor\">\n            <path fillRule=\"evenodd\"\n                  d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n                  clipRule=\"evenodd\"\n            />\n        </svg>\n    );\n};\n\nexport default SearchIcon;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav-bar\":\"NavigationBar_nav-bar__3bf-W\",\"show\":\"NavigationBar_show__1SFtW\",\"hide\":\"NavigationBar_hide__1B_f_\",\"item\":\"NavigationBar_item__1ui1f\",\"heart\":\"NavigationBar_heart__KX-_u\",\"user-favorites-counter\":\"NavigationBar_user-favorites-counter__WeCZT\",\"active\":\"NavigationBar_active__1yTZ1\",\"bump\":\"NavigationBar_bump__2aal9\"};","const PencilIcon = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n        >\n            <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={1.2}\n                d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n            />\n        </svg>\n    );\n};\n\nexport default PencilIcon;\n","import {useContext, useEffect, useRef, useState} from \"react\";\nimport AuthContext from \"../../store/auth-context\";\nimport {Navigate} from \"react-router-dom\";\nimport Fallback from \"../UI/Fallback/Fallback\";\n\nconst RequireAuth = ({children}) => {\n    const [isLoading, setIsLoading] = useState(true)\n    const {isLoggedIn} = useContext(AuthContext)\n    const timer = useRef(null)\n\n    useEffect(() => {\n        timer.current = setTimeout(\n            () => setIsLoading(false),\n            500\n        )\n        return () => clearTimeout(timer.current)\n    }, [])\n\n    if (isLoggedIn) return children\n    return (\n        isLoading ?\n            <Fallback/> :\n            isLoggedIn ?\n                children :\n                <Navigate to=\"/auth\" replace/>\n    )\n}\n\nexport default RequireAuth;\n","const UserIcon = () => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n             className=\"h-6 w-6\"\n             fill=\"none\"\n             viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={1.4} d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n        </svg>\n    );\n};\n\nexport default UserIcon;\n","import React, {forwardRef, useEffect, useState} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport classes from './NavigationBar.module.css';\nimport SearchIcon from \"../icons/MenuIcons/SearchIcon\";\nimport HeartIcon from \"../icons/MenuIcons/HeartIcon\";\nimport UserIcon from \"../icons/MenuIcons/UserIcon\";\nimport {useStore} from \"../../../hooks-store/store\";\n\nconst NavigationBar = forwardRef(({authenticated, isIntersecting}, navigationRef) => {\n    const [btnIsClicked, setBtnIsClicked] = useState(false)\n    const { userFavorites } = useStore()[0];\n\n    useEffect(() => {\n        if (!userFavorites || userFavorites.length === 0) return;\n\n        setBtnIsClicked(true);\n        const bumpTimer = setTimeout(() => setBtnIsClicked(false), 300)\n\n        return () => clearTimeout(bumpTimer);\n    }, [userFavorites])\n\n    const btnClasses = `${classes.item} ${btnIsClicked ? classes.bump : \"\"}`\n\n    return (\n        <nav ref={navigationRef}>\n            <ul className={isIntersecting ? `${classes['nav-bar']} ${classes.hide}` : `${classes['nav-bar']} ${classes.show}`}>\n                <li>\n                    <NavLink to='/' end className={navData => navData.isActive ? `${classes.active} ${classes.item}` : `${classes.item}`}>\n                        <SearchIcon/>\n                        <div>Esplora</div>\n                    </NavLink>\n                </li>\n                <li>\n                    <NavLink style={{position: \"relative\"}} to='favorites' className={navData => navData.isActive ? `${btnClasses} ${classes.active}` : `${btnClasses}`}>\n                        <HeartIcon className={classes.heart}/>\n                        {userFavorites && userFavorites.length > 0 && <div className={classes[\"user-favorites-counter\"]}>{userFavorites.length}</div>}\n                        <div>Preferiti</div>\n                    </NavLink>\n                </li>\n                <li>\n                    <NavLink to='profile' className={navData => navData.isActive ? `${classes.active} ${classes.item}` : `${classes.item}`}>\n                        <UserIcon/>\n                        {authenticated ? <div>Account</div> : <div>Accedi</div>}\n                    </NavLink>\n                </li>\n            </ul>\n        </nav>\n    );\n});\n\nexport default NavigationBar;\n","import React from \"react\";\nimport classes from \"./Footer.module.css\";\nimport PencilIcon from \"../icons/PencilIcon\";\n\nconst Footer = React.forwardRef((props, ref) => {\n    return (\n            <div className={classes.footer} ref={ref}>\n                <PencilIcon/>\n                <div className={classes['grid-footer']}>\n                    <div>Arcara Alessio</div>\n                    <div>Carchesio Michael</div>\n                    <div>Crimaldi Alessia</div>\n                </div>\n            </div>\n    );\n});\n\nexport default Footer;\n","import {useEffect, useRef, useState} from \"react\";\n\nconst useIntersectionObserver = ({root = null, rootMargin, threshold = 0}) => {\n    const [isIntersecting, setIsIntersecting] = useState(false)\n    const [node, setNode] = useState(null)\n\n    const observer = useRef(null)\n\n    useEffect(() => {\n        observer.current = new IntersectionObserver(\n            ([entry]) => setIsIntersecting(entry.isIntersecting),\n            { root, rootMargin, threshold }\n        )\n        const currentObserver = observer.current\n        \n        if (node) currentObserver.observe(node);\n        return () => currentObserver.disconnect();\n        \n    }, [node, root, rootMargin, threshold])\n\n    return [setNode, isIntersecting]\n}\n\nexport default useIntersectionObserver;\n","import {Outlet, useLocation} from \"react-router-dom\";\nimport NavigationBar from \"../../Navigation/NavigationBar\";\nimport Footer from \"../../Footer/Footer\";\nimport useIntersectionObserver from \"../../../../hooks/use-intersection-observer\";\nimport {useMemo, useRef} from \"react\";\n\nconst NavigationLayout = ({authenticated}) => {\n    const navigationRef = useRef()\n    const location = useLocation()\n\n    const options = useMemo(() => {\n        return {\n            root: navigationRef.current\n        }\n    }, [navigationRef])\n\n    const [ref, isIntersecting] = useIntersectionObserver(options)\n\n    return (\n        <>\n            <Outlet/>\n            <NavigationBar isIntersecting={isIntersecting} ref={navigationRef} authenticated={authenticated}/>\n            {location.pathname === \"/\" && <Footer ref={ref} />}\n        </>\n    )\n};\n\nexport default NavigationLayout\n","import React, {useContext, Suspense} from \"react\";\nimport AuthContext from \"./store/auth-context\";\nimport {Routes, Route, Navigate} from \"react-router-dom\";\nimport RequireAuth from \"./components/RequireAuth/RequireAuth\";\nimport NavigationLayout from \"./components/UI/Layout/NavigationLayout/NavigationLayout\";\nimport Fallback from \"./components/UI/Fallback/Fallback\";\n\nconst Home = React.lazy(() => import('./pages/Home'));\nconst Favorites = React.lazy(() => import('./pages/FavoritesPage'));\nconst Auth = React.lazy(() => import('./pages/AuthPage'))\nconst Profile = React.lazy(() => import('./pages/ProfilePage'));\nconst Results = React.lazy(() => import('./pages/ResultsPage'));\nconst Advertisement = React.lazy(() => import('./pages/AdvertisementPage'));\nconst UserDetails = React.lazy(() => import('./pages/UserDetailsPage'));\nconst Rentals = React.lazy(() => import('./pages/RentalsPage'));\nconst NewAdvertisement = React.lazy(() => import('./pages/NewAdvertisementPage'));\nconst AdvertisementAdministration = React.lazy(() => import('./pages/AdvertisementAdministrationPage'));\nconst WebsiteAdministration = React.lazy(() => import('./pages/WebsiteAdministrationPage'));\n\nfunction App() {\n    const {isLoggedIn} = useContext(AuthContext)\n\n    return (\n        <Suspense fallback={<Fallback/>}>\n            <Routes>\n                <Route element={<NavigationLayout authenticated={isLoggedIn}/>}>\n                    <Route path='/' element={<Home/>}/>\n                    {!isLoggedIn && <Route path='auth' element={<Auth/>}/>}\n                    <Route path='favorites' element={<RequireAuth><Favorites/></RequireAuth>}/>\n                    <Route path='profile' element={<RequireAuth><Profile/></RequireAuth>}/>\n                </Route>\n                <Route path='boats/*' element={<Results/>}/>\n                <Route path='boats/:boatId' element={<Advertisement/>}/>\n                <Route path='profile/user-info' element={<RequireAuth><UserDetails/></RequireAuth>}/>\n                <Route path='profile/rentals/*' element={<RequireAuth><Rentals/></RequireAuth>}/>\n                <Route path='become-shipowner/*' element={<RequireAuth><NewAdvertisement/></RequireAuth>}/>\n                <Route path='profile/your-advertisements' element={<RequireAuth><AdvertisementAdministration/></RequireAuth>}/>\n                <Route path='administration' element={<RequireAuth><WebsiteAdministration/></RequireAuth>}/>\n                <Route path='*' element={<Navigate replace to=\"/\"/>}/>\n            </Routes>\n        </Suspense>\n    )\n}\n\nexport default App\n","import {useContext, useMemo} from \"react\";\nimport AuthContext from \"../store/auth-context\";\nimport axios from \"axios\";\nimport {body_refresh} from \"../helpers/httpConfig\"\nimport http from \"./axiosConfig\"\n\nconst AxiosMiddleware = ({children}) => {\n\n    const authCtx = useContext(AuthContext)\n\n    useMemo(() => {\n        http.interceptors.response.use(\n            async res => res,\n            async error => {\n                try {\n                    const errorMessage = await error.response.data.errors[0].message;\n\n                    if (errorMessage.includes('Unauthenticated')) {\n                        try {\n                            const res = await http({data: body_refresh})\n                            const resData = res.data.data.refreshToken;\n\n                            const tokenData = resData.token;\n                            authCtx.login(tokenData)\n\n                            const config = error.config;\n                            config.headers['Authorization'] = \"Bearer \" + tokenData\n                            return axios.request(config)\n                        } catch (err) {\n                            authCtx.logout()\n                            throw new Error(\"'Invalid or expired refresh token.'\")\n                        }\n                    }\n                    return Promise.reject(error)\n                } catch (err) { throw new Error(\"Il server non risponde. \")}\n            })\n    }, [authCtx])\n\n    return children\n}\n\nexport default AxiosMiddleware\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport {AuthContextProvider} from \"./store/auth-context\";\nimport {BreakpointContextProvider} from \"./store/breakpoint-context\";\nimport AxiosMiddleware from \"./middleware/axiosMiddleware\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <BreakpointContextProvider>\n            <AuthContextProvider>\n                <AxiosMiddleware>\n                    <App/>\n                </AxiosMiddleware>\n            </AuthContextProvider>\n        </BreakpointContextProvider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n","import {initStore} from \"./store\";\n\nconst configureStore = fetchedFavorites => {\n    const actions = {\n        TOGGLE_FAV: (curState, favoriteAdv) => {\n            const advIsFavorite = curState.userFavorites.some(userFavAdv => userFavAdv._id === favoriteAdv._id)\n            if (advIsFavorite) {\n                return {userFavorites: curState.userFavorites.filter(userFavAdv => userFavAdv._id !== favoriteAdv._id)}\n            }\n            return {userFavorites: curState.userFavorites.concat(favoriteAdv)};\n        }\n    }\n    initStore(actions, {\n        userFavorites: fetchedFavorites || []\n    })\n}\n\nexport default configureStore;\n","import React, {useCallback, useEffect, useState} from \"react\";\nimport {body_favorites, body_refresh, invalidate} from \"../helpers/httpConfig\"\nimport useHttp from \"../hooks/use-http\";\nimport favoritesConfigureStore from \"../hooks-store/favorites-store\";\n\nconst AuthContext = React.createContext({\n    token: '',\n    isLoggedIn: false,\n    login: (token) => {},\n    logout: () => {}\n});\n\nexport const AuthContextProvider = props => {\n\n    const [token, setToken] = useState('')\n    const {sendRequest} = useHttp()\n\n    const userIsLoggedIn = !!token;\n\n    const getUserFavoritesHandler = useCallback((token) => {\n        sendRequest({body: body_favorites, token}, resData => {\n            favoritesConfigureStore(resData.favorites.map(\n                favorite => { return {...favorite, advIsFavorite: true} }\n            ))\n        })\n    }, [sendRequest])\n\n    const loginHandler = useCallback((token) => {\n        setToken(token)\n        getUserFavoritesHandler(token)\n    }, [getUserFavoritesHandler])\n\n    const logoutHandler = useCallback(() => {\n        setToken(null)\n        sendRequest({body: invalidate, token}, () => favoritesConfigureStore())\n    }, [sendRequest, token]);\n\n    useEffect(() => {\n        const transformData = resData => {\n            const authData = resData.refreshToken\n            setToken(authData[\"token\"])\n            getUserFavoritesHandler(authData[\"token\"])\n        }\n\n        sendRequest({body: body_refresh}, transformData)\n    }, [sendRequest, getUserFavoritesHandler]);\n\n    const contextValue = {\n        token: token,\n        isLoggedIn: userIsLoggedIn,\n        login: loginHandler,\n        logout: logoutHandler\n    }\n\n    return <AuthContext.Provider value={contextValue}>\n        {props.children}\n    </AuthContext.Provider>\n}\n\nexport default AuthContext;\n"],"sourceRoot":""}